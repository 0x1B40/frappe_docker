# Example Environment Configuration for Frappe/ERPNext Production
# Copy this file to your own .env file and customize as needed

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Database Host (container name or external host)
DB_HOST=mariadb

# Database Port
DB_PORT=3306

# MariaDB/MySQL Root Password (required for site creation)
MYSQL_ROOT_PASSWORD=admin

# MariaDB Auto Upgrade (set to 1 to enable)
MARIADB_AUTO_UPGRADE=1

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis Cache Host:Port
REDIS_CACHE=redis-cache:6379

# Redis Queue Host:Port
REDIS_QUEUE=redis-queue:6379

# =============================================================================
# DOCKER IMAGE CONFIGURATION
# =============================================================================

# Custom Image Repository (leave empty for default frappe/erpnext)
CUSTOM_IMAGE=

# Custom Image Tag (leave empty for latest)
CUSTOM_TAG=v15.85.1

# Image Pull Policy (always, never, missing)
PULL_POLICY=always

# Container Restart Policy
RESTART_POLICY=unless-stopped

# =============================================================================
# FRAPPE/ERPNEXT CONFIGURATION
# =============================================================================

# Socket.IO Port (internal communication)
SOCKETIO_PORT=9000

# Site Name Header for multi-tenant setups
FRAPPE_SITE_NAME_HEADER=$host

# Developer Mode (set to 1 to enable)
DEVELOPER_MODE=0

# =============================================================================
# REVERSE PROXY / LOAD BALANCER CONFIGURATION
# =============================================================================

# Real IP Address (for reverse proxy setups)
UPSTREAM_REAL_IP_ADDRESS=127.0.0.1

# Real IP Header
UPSTREAM_REAL_IP_HEADER=X-Forwarded-For

# Real IP Recursive
UPSTREAM_REAL_IP_RECURSIVE=off

# Proxy Read Timeout (seconds)
PROXY_READ_TIMEOUT=120

# Maximum Client Body Size
CLIENT_MAX_BODY_SIZE=50m

# =============================================================================
# NETWORKING & SECURITY
# =============================================================================

# External Database (set to 1 to use external DB instead of container)
EXTERNAL_DB=0

# SSL/TLS Configuration
# HTTPS_REDIRECT=1
# SSL_CERT_PATH=/path/to/cert.pem
# SSL_KEY_PATH=/path/to/key.pem

# =============================================================================
# MULTI-TENANT / MULTI-BENCH CONFIGURATION
# =============================================================================

# For multi-bench setups (see docs/multi-bench.md)
# ROUTER=your-router-name
# SITES=site1.example.com,site2.example.com
# BENCH_NETWORK=your-network-name

# =============================================================================
# MONITORING & LOGGING
# =============================================================================

# Enable detailed logging
# LOG_LEVEL=INFO
# ENABLE_ACCESS_LOG=1

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================

# Backup Schedule (cron format)
# BACKUP_SCHEDULE=0 2 * * *
# BACKUP_RETENTION_DAYS=7

# =============================================================================
# RESOURCE LIMITS
# =============================================================================

# Container resource limits (optional)
# COMPOSE_PROJECT_NAME=frappe-production
# DOCKER_MEMORY_LIMIT=2g
# DOCKER_CPU_LIMIT=1.0

# =============================================================================
# CUSTOMIZATION EXAMPLES
# =============================================================================

# Example: Using external database
# DB_HOST=your-external-db-host.com
# DB_PORT=3306
# MYSQL_ROOT_PASSWORD=your_secure_password

# Example: Using custom image
# CUSTOM_IMAGE=your-registry.com/your-org/erpnext
# CUSTOM_TAG=v1.0.0

# Example: HTTPS with Let's Encrypt
# HTTPS_REDIRECT=1
# SSL_CERT_PATH=/etc/ssl/certs/your-cert.pem
# SSL_KEY_PATH=/etc/ssl/private/your-key.pem

# Example: High-traffic production settings
# CLIENT_MAX_BODY_SIZE=100m
# PROXY_READ_TIMEOUT=300
# DOCKER_MEMORY_LIMIT=4g
# DOCKER_CPU_LIMIT=2.0
